<VirtualHost _default_:80>
    WSGIScriptAlias / /home/bitnami/website/johnclaro/wsgi.py
    <Directory /home/bitnami/website>
        AllowOverride all
        Require all granted
        Options FollowSymlinks
    </Directory>

    Alias /static /home/bitnami/website/static

    DocumentRoot /home/bitnami/website
    RewriteEngine On
    RewriteCond %{HTTPS} !=on
    RewriteCond %{HTTP_HOST} !^(localhost|127.0.0.1)
    RewriteRule ^/(.*) https://johnclaro.com/$1 [R,L]
</VirtualHost>

<VirtualHost _default_:443>
  ServerAlias *
  SSLEngine on
  SSLCertificateFile "/opt/bitnami/apache2/conf/johnclaro.com.crt"
  SSLCertificateKeyFile "/opt/bitnami/apache2/conf/johnclaro.com.key"
  Alias /robots.txt /home/bitnami/website/static/robots.txt
  Alias /favicon.ico /home/bitnami/website/static/favicon.ico
  Alias /static /home/bitnami/website/static
  <Directory /home/bitnami/website/static>
    Require all granted
  </Directory>
  WSGIScriptAlias / /home/bitnami/website/johnclaro/wsgi.py
  <Directory /home/bitnami/website/johnclaro>
    <Files wsgi.py>
      Require all granted
    </Files>
  </Directory>
</VirtualHost>

Include '/opt/bitnami/apache/conf/bitnami/bitnami-ssl.conf'